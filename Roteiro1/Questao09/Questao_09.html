<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <title>Questão 09</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../Questoes.css" />
  </head>

  <body>
    <div class="container">
      Lista de números:
      <div>
        <input type="text" id="txtNumeros" class="input" />
        <input
          type="button"
          value="Fazer média"
          onclick="calculoEAnalise()"
          class="button"
        />
      </div>
      <div id="cent">Preencha o campo acima com números inteiros</div>
    </div>
    <script>
      var cent = document.getElementById("cent");

      function calculoEAnalise() {
        let numeros = document.getElementById("txtNumeros").value;
        let media;
        let positivos = 0;
        let negativos = 0;
        let porcNegativos;
        let porcPositivos;
        let verifica = 0;

        numeros = numeros.split(",");

        cent.innerHTML = "";

        for (let i = 0; i < numeros.length; i++) {
          numeros[i] = parseFloat(numeros[i]);
        }

        for (let i = 0; i < numeros.length; i++) {
          if (Number.isInteger(numeros[i]) == false) {
            verifica++;
          }
        }

        media = numeros.reduce(function (acrescenta, e) {
          return acrescenta + e;
        });

        media = media / numeros.length;

        for (let i = 0; i < numeros.length; i++) {
          if (numeros[i] > 0) {
            positivos++;
          } else {
            negativos++;
          }
        }

        porcPositivos = (positivos * 100) / numeros.length;
        porcNegativos = (negativos * 100) / numeros.length;

        if (verifica == 0) {
          cent.innerHTML += `Media: ${media.toFixed(2)}<br>
                                Quantidade de números positivos: ${positivos}<br>
                                Quantidade de números negativos: ${negativos}<br>
                                Porcentagem de números positivos: ${porcPositivos.toFixed(
                                  2
                                )}%<br>
                                Porcentagem de números negativos: ${porcNegativos.toFixed(
                                  2
                                )}%`;
        } else {
          cent.innerHTML +=
            "Nem todos os elementos são números inteiros. Por favor tente novamente!";
        }
      }
    </script>
  </body>
</html>
